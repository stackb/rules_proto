load("@rules_proto//proto:defs.bzl", "proto_library")
load("@build_stack_rules_proto//rules/scala:proto_scala_library.bzl", "proto_scala_library")
load("@build_stack_rules_proto//rules:proto_compile.bzl", "proto_compile")

# gazelle:proto_rule proto_compile implementation stackb:rules_proto:proto_compile
# gazelle:proto_plugin scala implementation scalapb:scalapb:protoc-gen-scala
# gazelle:proto_plugin scala option grpc
# gazelle:proto_rule proto_scala_library implementation stackb:rules_proto:proto_scala_library
# gazelle:proto_rule proto_scala_library deps @build_stack_rules_proto//plugin/scalapb/scalapb:proto_scala_library_2_12
# gazelle:proto_rule proto_scala_library visibility //visibility:public
# gazelle:proto_language scala plugin scala
# gazelle:proto_language scala rule proto_compile
# gazelle:proto_language scala rule proto_scala_library

proto_library(
    name = "syntax_proto",
    srcs = [
        "noun.proto",
        "package.proto",
        "pronoun.proto",
    ],
    visibility = ["//visibility:public"],
    deps = ["//scalapb:scalapb_proto"],
)

proto_compile(
    name = "syntax_scala_compile",
    outputs = ["syntax_scala.srcjar"],
    plugins = ["@build_stack_rules_proto//plugin/scalapb/scalapb:protoc-gen-scala"],
    proto = "syntax_proto",
)

proto_scala_library(
    name = "syntax_scala_library",
    srcs = ["syntax_scala.srcjar"],
    visibility = ["//visibility:public"],
    deps = ["@build_stack_rules_proto//plugin/scalapb/scalapb:proto_scala_library_2_12"],
)
